{% extends "base.html" %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h2 style="border-bottom: 2px solid #673ab7; padding-bottom: 10px; margin-bottom: 20px;">
        ğŸ‘¨â€ğŸ« ìˆ˜ê°• ì‹ ì²­ ê´€ë¦¬
    </h2>
    <p style="font-size: 1.1rem; margin-bottom: 20px;">
        í•™ìƒëª…: <strong style="color: #4527a0;">{{ student.name }}</strong>
    </p>

    <div class="info-card" style="padding: 30px;">
        <form method="POST">
            {% csrf_token %}

            <div style="margin-bottom: 20px; background-color: #e3f2fd; padding: 15px; border-radius: 8px;">
                <label for="id_start_date" style="font-weight: bold; color: #1565c0; display: block; margin-bottom: 5px;">
                    ğŸ“… ìˆ˜ê°• ì‹œì‘ì¼ (ì²­êµ¬ ê¸°ì¤€ì¼)
                </label>
                {{ form.start_date }}
                <small style="color: #666; display: block; margin-top: 5px;">
                    * ì„ íƒí•œ ë‚ ì§œë¶€í„° ë§ì¼ê¹Œì§€ì˜ ê¸ˆì•¡ì´ <strong>ì¼í•  ê³„ì‚°</strong>ë˜ì–´ ì²­êµ¬ë©ë‹ˆë‹¤.
                </small>
            </div>

            <h4 style="color: #4527a0; margin-bottom: 10px;">
                ê°œì„¤ëœ ê°•ì¢Œ ëª©ë¡
                <span style="font-size: 0.9rem; color: #666; font-weight: normal;">(ìˆ˜ê°•í•  ìˆ˜ì—…ì„ ëª¨ë‘ ì²´í¬í•˜ì„¸ìš”)</span>
            </h4>

            <div style="border: 1px solid #ccc; border-radius: 5px; padding: 15px; max-height: 400px; overflow-y: auto; background-color: #fafafa;">
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px;">
                    {% for checkbox in form.classes %}
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; background: white; padding: 10px; border-radius: 4px; border: 1px solid #eee; transition: 0.2s;">
                            {{ checkbox.tag }}
                            <span style="font-size: 0.95rem; font-weight: 500;">{{ checkbox.choice_label }}</span>
                        </label>
                    {% endfor %}
                </div>
            </div>
            <div style="text-align: right; font-size: 0.8rem; color: #666; margin-top: 5px;">
                * ì§„í–‰ ì¤‘ì¸ ìˆ˜ì—…ë§Œ í‘œì‹œë©ë‹ˆë‹¤.
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button type="submit" class="btn" style="padding: 12px 50px; font-size: 1.1rem;">ì €ì¥í•˜ê¸°</button>
                <a href="{% url 'student_detail' student.pk %}" class="btn" style="background-color: #757575; margin-left: 10px;">ì·¨ì†Œ</a>
            </div>
        </form>
    </div>
</div>

<script>
    document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        // ì´ˆê¸° ìƒíƒœ
        if(cb.checked) cb.parentElement.style.borderColor = '#673ab7';

        // ë³€ê²½ ì‹œ
        cb.addEventListener('change', function() {
            if(this.checked) {
                this.parentElement.style.borderColor = '#673ab7';
                this.parentElement.style.backgroundColor = '#f3e5f5';
            } else {
                this.parentElement.style.borderColor = '#eee';
                this.parentElement.style.backgroundColor = 'white';
            }
        });
    });
</script>
{% endblock %}